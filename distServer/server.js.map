{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./sources/game/assets/datasets/index.js","webpack:///./sources/game/assets/images/common/ball.png","webpack:///./sources/game/assets/images/common/player.png","webpack:///./sources/game/assets/images/index.js","webpack:///./sources/game/assets/index.js","webpack:///./sources/game/assets/sounds/index.js","webpack:///./sources/game/components/common/camera.js","webpack:///./sources/game/components/common/forces.js","webpack:///./sources/game/components/common/hitbox.js","webpack:///./sources/game/components/common/images.js","webpack:///./sources/game/components/common/position.js","webpack:///./sources/game/components/common/zone.js","webpack:///./sources/game/components/specific/Border.js","webpack:///./sources/game/components/specific/Selected.js","webpack:///./sources/game/components/specific/input.js","webpack:///./sources/game/components/specific/ping.js","webpack:///./sources/game/components/specific/sphere.js","webpack:///./sources/game/components/specific/text.js","webpack:///./sources/game/entities/ball.js","webpack:///./sources/game/entities/button.js","webpack:///./sources/game/entities/player.js","webpack:///./sources/game/entities/title.js","webpack:///./sources/game/scenes/demo/server/destroy.js","webpack:///./sources/game/scenes/demo/server/index.js","webpack:///./sources/game/scenes/demo/server/setup.js","webpack:///./sources/game/scenes/demo/server/update.js","webpack:///./sources/game/scenes/demo/start.js","webpack:///./sources/game/scenes/ending/server/destroy.js","webpack:///./sources/game/scenes/ending/server/index.js","webpack:///./sources/game/scenes/ending/server/setup.js","webpack:///./sources/game/scenes/ending/server/update.js","webpack:///./sources/game/scenes/ending/start.js","webpack:///./sources/game/scenes/loading/destroy.js","webpack:///./sources/game/scenes/loading/server/index.js","webpack:///./sources/game/scenes/loading/server/update.js","webpack:///./sources/game/scenes/loading/setup.js","webpack:///./sources/game/scenes/loading/start.js","webpack:///./sources/game/server/scenes/index.js","webpack:///./sources/game/systems/common/forces.js","webpack:///./sources/game/systems/specific/collides.js","webpack:///./sources/game/systems/specific/collidesBall.js","webpack:///./sources/game/systems/specific/collidesPing.js","webpack:///./sources/game/systems/specific/inputsPingServer.js","webpack:///./sources/game/systems/utils/collideDistance.js","webpack:///./sources/server.js","webpack:///./sources/theatre/core/canvas.js","webpack:///./sources/theatre/core/loop.js","webpack:///./sources/theatre/core/server/fakePreload.js","webpack:///./sources/theatre/core/server/polyfill.js","webpack:///./sources/theatre/core/server/theatreServer.js","webpack:///./sources/theatre/modules/camera.js","webpack:///./sources/theatre/modules/collide.js","webpack:///./sources/theatre/modules/ease.js","webpack:///./sources/theatre/modules/shape.js","webpack:///./sources/theatre/modules/world.js","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"module-alias/register\"","webpack:///external \"socket.io\"","webpack:///external \"worker_threads\""],"names":["datasets","images","assets","sounds","Camera","camera","opacity","name","Forces","parts","add","force","easing","elapsed","ending","handling","duration","x","y","moved","push","forEach","Hitbox","width","height","Images","image","destination","frame","framerate","frames","source","Position","z","Zone","zone","Border","radius","color","padding","Selected","Input","inputs","Ping","Sphere","Text","text","Ball","entity","zones","gameLayout","common","ball","Button","Player","number","command","player","length","Title","destroy","console","log","room","io","to","emit","state","winner","module","hot","accept","setup","refSize","player1","player2","sockets","socket","i","on","update","world","system","entitiesModif","Object","entries","entities","positionComponent","get","start","command1","command2","gameLayoutFrame","call","title","hintText","winnerText","redirect","preloading","setTimeout","load","context","size","forces","forcesComponent","trashes","unlimited","remaining","delta","progress","remove","indexOf","filter","collides","hitboxComponent","rectangle","otherEntityName","otherEntity","otherRectangle","collideDist","xForces","Math","abs","otherEntityForces","yForces","collidesBall","zoneComponent","collidesPing","inputsPingServer","inputsPlayer","input","inputComponent","index","action","collideDistance","collision","deltaX","deltaY","middleCenterDistanceX","middleCenterDistanceY","colDir","active","oX","oY","app","httpServer","createServer","listen","nbRoom","availableRoom","allRooms","createRoom","toString","id","pop","join","reason","userSocket","offsetHeight","offsetWidth","exports","startServer","Canvas","type","identifier","element","document","createElement","getContext","ratio","window","devicePixelRatio","resize","setAttribute","style","scale","sharp","imageRendering","imageSmoothingEnabled","Loop","speed","elapsedTime","lastRender","lastUpdate","render","handler","currentRender","Date","now","requestAnimationFrame","bind","currentUpdate","max","fakePreload","promises","asset","promise","Promise","resolve","reject","getter","src","sound","all","then","polyfillWebToServer","global","setImmediate","f","TheatreServer","config","container","scenes","expose","loading","restarting","initialize","scene","loop","timeframe","scope","restart","version","theatre","shaking","target","iterator","current","splice","idle","visible","alpha","globalAlpha","drawImage","position","shift","set","shake","amplitude","angle","random","PI","round","cos","sin","caller","collidePointPoint","collidePointRectangle","collideRectangleRectangle","collide","A","B","parameters","apply","BCDE","ABCD","EFGH","easeIn","power","easeInOut","easeOut","linear","factor","easeInQuad","easeInCubic","easeInQuart","easeInOutQuad","easeInOutCubic","easeInOutQuart","easeOutQuad","easeOutCubic","easeOutQuart","reverse","Circle","Point","Rectangle","Segment","xa","ya","xb","yb","Entity","components","Array","isArray","component","has","search","replace","exclude","hasOwnProperty","World","key","chosen"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./sources/server.js\");\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","const datasets = [];\n\nexport {datasets};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAMRJREFUWIXtl7EVwyAMRA8/D0PGSJ3RPItnyihORR4mkoAgAQXX+dm6+xwUxgGA9x4KcsnzVTK0A8Dznc6KyhlXme1Kody3WZhNObx6VmqgJZjyIdvgGtAKz3pSABbhrHfJGTBVCmC5ejJj4170gphuC4YB9Kw/6IoBhmkBLIAFEACqfqOU5GKAYZoKoOc2fLPSBnpA3DKm2oIgyxZ+vLkGLCBIT+leEAZa/xXExZScgZY2srOld8PYaMjl9O8ASa/zeHwAksMXkqW9xfwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAABgCAYAAAB8InCYAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAFRJREFUaIHtzjEBADAIxMCnS7VUGv4FFBksFwO56vt+FjubcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAJBluAwJY4NotAAAAAABJRU5ErkJggg==\"","const images = [{\n        'name': 'player',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/player.png')\n    },{\n        'name': 'ball',\n        'scope': 'common',\n         'type': 'image',\n        'source': require('./common/ball.png')\n    }];\n\nexport {images};\n","import {datasets} from './datasets/index.js';\nimport {images} from './images/index.js';\nimport {sounds} from './sounds/index.js';\n\nconst assets = [\n\n    ...datasets,\n    ...images,\n    ...sounds\n];\n\nexport {assets};\n","const sounds = [];\n\nexport {sounds};\n","function Camera(camera, opacity = 1) {\n\n    this.name = 'camera';\n\n    this.camera = camera;\n    this.opacity = opacity;\n}\n\nexport {Camera};\n","import * as Ease from 'modules/ease.js';\n\nfunction Forces(parts) {\n\n    this.name = 'forces';\n\n    function add(force) {\n\n        const {easing, elapsed, ending, handling, duration, x, y} = force;\n\n        force.x = x;\n        force.y = y;\n        force.duration = duration;\n        force.easing = easing || Ease.linear(1);\n        force.elapsed = elapsed || 0;\n        force.ending = ending || false;\n        force.handling = handling || false;\n\n        force.moved = {\n\n            'x': 0,\n            'y': 0\n        };\n\n        this.parts.push(force);\n    }\n\n    this.parts = [];\n\n    this.add = add;\n\n    parts.forEach((force) => {\n\n        this.add(force);\n    });\n}\n\nexport {Forces};\n","function Hitbox(width, height) {\n\n    this.name = 'hitbox';\n\n    this.width = width;\n    this.height = height;\n}\n\nexport {Hitbox};\n","function Images(parts) {\n\n    this.name = 'images';\n\n    this.parts = parts;\n\n    this.parts.forEach((image) => {\n\n        const {destination, frame, framerate, frames, opacity, source} = image;\n\n        image.source = source;\n\n        image.frames = frames || [[0, 0, 32, 32]];\n        image.frame = frame || 0;\n        image.framerate = framerate || 8;\n        image.destination = destination || [0, 0, 0, 32, 32];\n        image.opacity = opacity || 1;\n\n        image.elapsed = 0;\n    });\n}\n\nexport {Images};\n","function Position(x, y, z = 0) {\n\n    this.name = 'position';\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n}\n\nexport {Position};\n","function Zone(zone) {\n    this.name = 'zone';\n\n    this.frame =zone;\n}\n\nexport {Zone};\n","function Border(width, height,radius,color) {\r\n\r\n    this.name = 'border';\r\n    this.radius= radius;\r\n    this.color = color;\r\n    this.padding={width: width,height:height};\r\n}\r\n\r\nexport {Border};\r\n","function Selected() {\r\n    this.name = 'selected';\r\n}\r\n\r\nexport {Selected};\r\n","function Input(inputs) {\r\n\r\n    this.name = 'input';\r\n\r\n    this.inputs = inputs;\r\n}\r\n\r\nexport {Input};\r\n","function Ping() {\r\n    this.name = 'ping';\r\n}\r\n\r\nexport {Ping};\r\n","function Sphere() {\r\n    this.name = 'sphere';\r\n}\r\n\r\nexport {Sphere};\r\n","function Text(text) {\r\n\r\n    this.name = 'text';\r\n    this.text = text;\r\n}\r\n\r\nexport {Text};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Images} from 'components/common/images.js';\r\nimport {Hitbox} from 'components/common/hitbox.js';\r\nimport {Zone} from 'components/common/zone.js';\r\nimport {Forces} from 'components/common/forces.js';\r\nimport {Sphere} from 'components/specific/sphere.js';\r\n\r\nfunction Ball(x,y) {\r\nconst entity=new Entity(\r\n  'ball', [\r\n      new Camera(this.camera),\r\n      new Zone(this.zones.gameLayout),\r\n      new Position(x,y,1),\r\n      new Forces([{x:-5,y:0,duration:30}]),\r\n      new Hitbox(32,32),\r\n      new Sphere(),\r\n      new Images([{\r\n          'source':  this.assets.images.common.ball(),\r\n          'frames': [\r\n              [0, 0, 32, 32]\r\n          ],\r\n          'frame': 0,\r\n          'destination': [0, 0, 0, 32, 32]\r\n      }]),\r\n  ]);\r\n  return entity;\r\n}\r\n\r\nexport {Ball};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Zone} from 'components/common/zone.js';\r\nimport {Text} from 'components/specific/text.js';\r\nimport {Border} from 'components/specific/Border.js';\r\nimport {Selected} from 'components/specific/Selected.js';\r\nimport {Input} from 'components/specific/input.js';\r\n\r\n\r\nfunction Button(x,y,width,height,text) {\r\nconst entity=new Entity(\r\n  'button'+text, [\r\n      new Camera(this.camera),\r\n      new Zone(this.zones.gameLayout),\r\n      new Position(x,y,1),\r\n      new Border(width,height),\r\n      new Text(text),\r\n      new Input(['KEY_UP','KEY_DOWN'])\r\n  ]);\r\n  return entity;\r\n}\r\n\r\nexport {Button};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Images} from 'components/common/images.js';\r\nimport {Hitbox} from 'components/common/hitbox.js';\r\nimport {Zone} from 'components/common/zone.js';\r\nimport {Input} from 'components/specific/input.js';\r\nimport {Ping} from 'components/specific/ping.js';\r\n\r\nfunction Player(number,command,x,y) {\r\n\r\nconst entity=new Entity(\r\n  'player'+number, [\r\n      new Camera(this.camera),\r\n      new Zone(this.zones.gameLayout),\r\n      new Position(x,y,1),\r\n      new Ping(),\r\n      new Hitbox(32,96),\r\n      new Images([{\r\n          'source':  this.assets.images.common.player(),\r\n          'frames': [\r\n              [0, 0, 32, 96]\r\n          ],\r\n          'frame': 0,\r\n          'destination': [0, 0, 0, 32, 96]\r\n      }]),\r\n  ]);\r\n\r\n  if(command && command.length>0){\r\n      entity.add(new Input(command));\r\n  }\r\n\r\n  return entity;\r\n}\r\n\r\nexport {Player};\r\n","import {Entity} from 'modules/world.js';\r\nimport {Camera} from 'components/common/camera.js';\r\nimport {Position} from 'components/common/position.js';\r\nimport {Zone} from 'components/common/zone.js';\r\nimport {Hitbox} from 'components/common/hitbox.js';\r\nimport {Text} from 'components/specific/text.js';\r\nimport {Border} from 'components/specific/Border.js';\r\n\r\nfunction Title(x,y,text) {\r\nconst entity=new Entity(\r\n  'title'+text, [\r\n      new Camera(this.camera),\r\n      new Zone(this.zones.gameLayout),\r\n      new Position(x,y,1),\r\n      new Text(text),\r\n  ]);\r\n  return entity;\r\n}\r\n\r\nexport {Title};\r\n","function destroy() {\r\n\r\n    console.log('destroy demo scene');\r\n    console.log('-------');\r\n\r\n    this.room.io.to(this.room.room).emit('endGameSesion',this.state.winner);\r\n}\r\n\r\nexport {destroy};\r\n","import {destroy} from './destroy.js';\r\nimport {start} from './../start.js';\r\nimport {setup} from './setup.js';\r\nimport {update} from './update.js';\r\n\r\nif (typeof module.hot !== 'undefined') {\r\n\r\n    module.hot.accept([\r\n\r\n        './destroy.js',\r\n        './../start.js',\r\n        './setup.js',\r\n        './update.js'\r\n    ]);\r\n}\r\n\r\nexport {destroy, setup, start, update};\r\n","function setup() {\r\n\r\n    console.log(\"setup demo scene\")\r\n    this.zones={gameLayout:{}};\r\n    this.zones.gameLayout.refSize=1024;\r\n    this.player1={inputs: []};\r\n    this.player2={inputs: []};\r\n\r\n    this.room.sockets.forEach((socket, i) => {\r\n      socket.on('inputs', (inputs)=>{\r\n          if(i==0){\r\n            this.player1.inputs.push(...inputs);\r\n          }else if(i==1){\r\n            this.player2.inputs.push(...inputs);\r\n          }\r\n      });\r\n    });\r\n\r\n}\r\n\r\nexport {setup};\r\n","import {forces} from 'systems/common/forces.js';\r\nimport {inputsPingServer} from 'systems/specific/inputsPingServer.js';\r\nimport {collides} from 'systems/specific/collides.js';\r\nimport {collidesBall} from 'systems/specific/collidesBall.js';\r\nimport {collidesPing} from 'systems/specific/collidesPing.js';\r\n\r\nfunction update() {\r\n\r\n    this.world.system(['forces','position'], forces);\r\n    this.world.system(['input'], inputsPingServer);\r\n    this.world.system(['hitbox','position'], collides);\r\n    this.world.system(['hitbox','position','sphere'], collidesBall);\r\n    this.world.system(['hitbox','position','ping'], collidesPing);\r\n\r\n    let entitiesModif=[]\r\n    Object.entries(this.world.entities).forEach(([name, entity]) => {\r\n        let positionComponent=entity.get('position');\r\n        entitiesModif.push({'name':name,'components':[positionComponent]})\r\n    });\r\n\r\n    if(entitiesModif.length!=0){\r\n      this.room.io.to(this.room.room).emit('updateEntities', entitiesModif);\r\n    }\r\n    //emit\r\n    this.player1.inputs = [];\r\n    this.player2.inputs = [];\r\n}\r\n\r\nexport {update};\r\n","import {World} from 'modules/world.js';\nimport {Player} from 'entities/player.js';\nimport {Ball} from 'entities/ball.js';\n\nfunction start() {\n\n    console.log('start demo scene');\n    this.world = new World(this);\n    var command1,command2=[];\n    var gameLayoutFrame=this.zones.gameLayout;\n\n    if(this.player==1 ||typeof this.player!=\"number\"){\n      var command1=['KEY_UP','KEY_DOWN'];\n    }\n    if(this.player==2||typeof this.player!=\"number\"){\n      var command2=['KEY_UP','KEY_DOWN'];\n    }\n    var player1=Player.call(this,1,command1,16,gameLayoutFrame.refSize/2-48);\n    var player2=Player.call(this,2,command2,gameLayoutFrame.refSize-48,gameLayoutFrame.refSize/2-48);\n    var ball=Ball.call(this,gameLayoutFrame.refSize/2,gameLayoutFrame.refSize/2-16);\n\n    this.world.add(ball);\n    this.world.add(player1);\n    this.world.add(player2);\n\n}\n\nexport {start};\n","function destroy() {\r\n\r\n    console.log('destroy ending scene');\r\n    console.log('-------');\r\n\r\n}\r\n\r\nexport {destroy};\r\n","import {destroy} from './destroy.js';\r\nimport {start} from './../start.js';\r\nimport {setup} from './setup.js';\r\nimport {update} from './update.js';\r\n\r\nif (typeof module.hot !== 'undefined') {\r\n\r\n    module.hot.accept([\r\n\r\n        './destroy.js',\r\n        './../start.js',\r\n        './setup.js',\r\n        './update.js'\r\n    ]);\r\n}\r\n\r\nexport {destroy, setup, start, update};\r\n","function setup() {\r\n\r\n    console.log(\"setup ending scene\")\r\n\r\n}\r\n\r\nexport {setup};\r\n","function update() {\r\n\r\n\r\n}\r\n\r\nexport {update};\r\n","import {World,Entity} from 'modules/world.js';\nimport {Button} from 'entities/button.js';\nimport {Title} from 'entities/title.js';\n\nfunction start() {\n\n    console.log('start ending scene');\n    this.world = new World(this);\n    var gameLayoutFrame=this.zones.gameLayout;\n    var winner =this.state.winner;\n    var title=Title.call(this,gameLayoutFrame.refSize/2,100,\"Ping Pong\");\n    var hintText=Title.call(this,gameLayoutFrame.refSize/2,gameLayoutFrame.refSize/2-100,\"Press Enter to restart\");\n    var winnerText=Title.call(this,gameLayoutFrame.refSize/2,gameLayoutFrame.refSize/2-200,\"Player \"+winner+\" won\");\n\n\n    this.world.add([title,winnerText,hintText]);\n}\n\nexport {start};\n","function destroy() {\n\n    console.log('destroy loading scene');\n    console.log('-------');\n\n    delete this.state.redirect;\n    \n}\n\nexport {destroy};\n","import {destroy} from './../destroy.js';\nimport {setup} from './../setup.js';\nimport {start} from './../start.js';\nimport {update} from './update.js';\n\nif (typeof module.hot !== 'undefined') {\n\n    module.hot.accept([\n\n        './../destroy.js',\n        './../setup.js',\n        './../start.js',\n        './update.js'\n    ]);\n}\n\nexport {destroy, setup, start, update};\n","function update() {\n  \n    if (this.preloading === false && this.state.redirect === false) {\n\n        setTimeout(() => {\n\n            this.load('demo');\n\n        }, 3000);\n\n        this.state.redirect = true;\n    }\n}\n\nexport {update};\n","import {Camera} from 'modules/camera.js'\n\nfunction setup() {\n\n    console.log('setup loading scene');\n\n    this.camera = new Camera(this.context, this.size.width, this.size.height);\n\n}\n\nexport {setup};\n","function start() {\n\n    console.log('start loading scene');\n\n    this.state.redirect = false;\n}\n\nexport {start};\n","import * as demo from 'scenes/demo/server/index.js';\r\nimport * as loading from 'scenes/loading/server/index.js';\r\nimport * as ending from 'scenes/ending/server/index.js';\r\nexport {\r\n\r\n    demo,\r\n    loading,\r\n    ending\r\n\r\n};\r\n","function forces(entities) {\n\n    Object.entries(entities).forEach(([name, entity]) => {\n\n        const forcesComponent = entity.get('forces');\n        const positionComponent = entity.get('position');\n\n        const trashes = [];\n\n        forcesComponent.parts.forEach((force) => {\n\n            const unlimited = force.ending === false;\n            const remaining = force.duration - force.elapsed;\n            const delta = (unlimited === false && this.delta.update > remaining) ? remaining : this.delta.update;\n\n            const progress = (force.elapsed + delta) / force.duration;\n\n            const moved = {\n\n                'x': force.x * force.easing(progress),\n                'y': force.y * force.easing(progress)\n            };\n\n            positionComponent.x += moved.x - force.moved.x;\n            positionComponent.y += moved.y - force.moved.y;\n            force.moved = moved;\n\n            force.elapsed += this.delta.update;\n\n            if (typeof force.handling === 'function') {\n\n                const remove = () => {\n\n                    trashes.push(force);\n                };\n\n                force.handling(entity, force.moved.x, force.moved.y, force.elapsed, remove);\n            }\n\n            if (force.elapsed >= force.duration\n            && typeof force.ending === 'function'\n            && trashes.indexOf(force) === -1) {\n\n                force.ending(entity, force.moved.x, force.moved.y, force.elapsed);\n                trashes.push(force);\n            }\n        });\n\n        forcesComponent.parts = forcesComponent.parts.filter((force) => {\n\n            return trashes.indexOf(force) === -1;\n        });\n    });\n}\n\nexport {forces};\n","import {Forces} from 'components/common/forces.js';\r\nimport {collideDistance} from 'systems/utils/collideDistance.js';\r\nimport {collide} from 'modules/collide.js';\r\nimport {Rectangle} from 'modules/shape.js';\r\n\r\nfunction collides(entities) {\r\n    Object.entries(entities).forEach(([name, entity]) => {\r\n\r\n    if(name==='ball'){\r\n\r\n      var positionComponent = entity.get('position');\r\n      var hitboxComponent =entity.get('hitbox');\r\n      var forcesComponent =entity.get('forces');\r\n      var rectangle=new Rectangle(positionComponent.x,positionComponent.y,hitboxComponent.width,hitboxComponent.height);\r\n\r\n      Object.entries(entities).forEach(([otherEntityName, otherEntity]) => {\r\n        if(otherEntity.name!=name){\r\n\r\n          var otherRectangle=new Rectangle(otherEntity.get('position').x,otherEntity.get('position').y,otherEntity.get('hitbox').width,otherEntity.get('hitbox').height);\r\n\r\n          if(collide(rectangle,otherRectangle)){\r\n            var collideDist=collideDistance(rectangle,otherRectangle);\r\n\r\n            var xForces=collideDist.x>0?forcesComponent.parts[0].x+5:-forcesComponent.parts[0].x-5;\r\n            if(Math.abs(xForces>30))xForces<0?-30:30\r\n            var otherEntityForces=otherEntity.get('forces');\r\n            var yForces=0;\r\n            //yForces+=collideDist.y+forcesComponent.parts[0].y;\r\n            yForces-=(((otherRectangle.y+(otherRectangle.height/2))-((rectangle.y+(rectangle.height/2))))/10);\r\n            if(otherEntityForces && otherEntityForces.parts.length>0 ){\r\n              yForces+= otherEntityForces.parts[0].y;\r\n            }\r\n\r\n            entity.add([new Forces([{x:xForces,y:yForces,duration:30}])])\r\n          }\r\n        }\r\n      })\r\n\r\n    }\r\n  });\r\n}\r\n\r\nexport {collides};\r\n","import {Forces} from 'components/common/forces.js';\r\n\r\nfunction collidesBall(entities) {\r\n    Object.entries(entities).forEach(([name, entity]) => {\r\n\r\n    var positionComponent = entity.get('position');\r\n    var hitboxComponent =entity.get('hitbox');\r\n    var forcesComponent =entity.get('forces');\r\n    var zoneComponent =entity.get('zone');\r\n\r\n    if(positionComponent.x<0){\r\n      this.state.winner=\"P2\";\r\n      this.load('ending');\r\n    }else if(positionComponent.x+hitboxComponent.width>zoneComponent.frame.refSize){\r\n      this.state.winner=\"P1\";\r\n      this.load('ending');\r\n    }\r\n\r\n    if(positionComponent.y<0 || positionComponent.y+hitboxComponent.height>zoneComponent.frame.refSize){\r\n      entity.add([new Forces([{x:forcesComponent.parts[0].x,y:-forcesComponent.parts[0].y,duration:forcesComponent.parts[0].duration}])])\r\n    }\r\n  });\r\n}\r\n\r\nexport {collidesBall};\r\n","import {Forces} from 'components/common/forces.js';\r\n\r\nfunction collidesPing(entities) {\r\n    Object.entries(entities).forEach(([name, entity]) => {\r\n\r\n    var positionComponent = entity.get('position');\r\n    var hitboxComponent =entity.get('hitbox');\r\n    var forcesComponent =entity.get('forces');\r\n    var zoneComponent =entity.get('zone');\r\n\r\n    if(positionComponent.y<0){\r\n      positionComponent.y=0;\r\n      entity.remove('forces');\r\n    }else if(positionComponent.y+hitboxComponent.height>zoneComponent.frame.refSize){\r\n      positionComponent.y=zoneComponent.frame.refSize-hitboxComponent.height;\r\n      entity.remove('forces');\r\n    }\r\n  });\r\n}\r\n\r\nexport {collidesPing};\r\n","import {Forces} from 'components/common/forces.js';\r\n\r\nfunction inputsPingServer(entities) {\r\n    Object.entries(entities).forEach(([name, entity]) => {\r\n\r\n      var inputsPlayer=[];\r\n      if(name==\"player1\"){\r\n        inputsPlayer=this.player1.inputs;\r\n      }\r\n      if(name==\"player2\"){\r\n        inputsPlayer=this.player2.inputs;\r\n      }\r\n\r\n      inputsPlayer.forEach((input) => {\r\n\r\n        const inputComponent = entity.get('input');\r\n        var index= inputComponent.inputs.indexOf(input.action);\r\n\r\n        if (index !== -1 && input.state === 'DOWN') {\r\n\r\n          switch (index) {\r\n              case 0:\r\n                entity.add([new Forces([{x:0,y:-10,duration:15}])])\r\n\r\n              break;\r\n              case 1:\r\n                entity.add([new Forces([{x:0,y:10,duration:15}])])\r\n\r\n              break;\r\n          }\r\n        }\r\n        else if (index !== -1\r\n        && input.state === 'UP') {\r\n\r\n          switch (index) {\r\n              case 0:\r\n                entity.remove('forces')\r\n              break;\r\n              case 1:\r\n                entity.remove('forces')\r\n              break;\r\n\r\n          }\r\n        }\r\n\r\n    });\r\n\r\n  });\r\n}\r\n\r\nexport {inputsPingServer};\r\n","function collideDistance(rectangle, otherRectangle) {\r\n\r\n  var collision= {x:0 , y:0} ;\r\n\r\n      var deltaX = ( rectangle.x + ( rectangle.width / 2 ) ) - ( otherRectangle.x + ( otherRectangle.width / 2 ) );\r\n  \t\tvar deltaY = ( rectangle.y + ( rectangle.height / 2 ) ) - ( otherRectangle.y + ( otherRectangle.height / 2 ) );\r\n\r\n  \t\tvar middleCenterDistanceX = ( rectangle.width / 2 ) + ( otherRectangle.width / 2 );\r\n  \t\tvar middleCenterDistanceY = ( rectangle.height / 2 ) + ( otherRectangle.height / 2 );\r\n  \t\tvar colDir = null;\r\n\r\n  \t\tif( Math.abs( deltaX ) < middleCenterDistanceX && Math.abs( deltaY ) < middleCenterDistanceY ) {\r\n\r\n  \t\t\tif( collision.active === false )\r\n  \t\t\t\tcollision.active = true;\r\n\r\n  \t\t\tvar oX = middleCenterDistanceX - Math.abs( deltaX ),\r\n  \t\t\t\toY = middleCenterDistanceY - Math.abs( deltaY );\r\n  \t\t\tif( oX >= oY ) {\r\n  \t\t\t\tif( deltaY > 0 ) {\r\n  \t\t\t\t      collision.y=oY;\r\n  \t\t\t\t} else {\r\n  \t          collision.y=-oY;\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t\telse {\r\n  \t\t\t\tif ( deltaX > 0 ) {\r\n  \t          collision.x=oX;\r\n  \t\t\t\t}\r\n  \t\t\t\telse {\r\n  \t          collision.x=-oX;\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t}\r\n\r\n    return collision;\r\n};\r\n\r\nexport {collideDistance};\r\n","import 'module-alias/register';\r\nimport express from 'express';\r\nimport {assets} from 'assets/index.js';\r\nimport http from 'http';\r\nimport { Worker } from 'worker_threads'\r\nimport {TheatreServer} from 'core/server/theatreServer.js';\r\nimport {polyfillWebToServer} from 'core/server/polyfill.js';\r\nimport * as scenes from 'server/scenes/index.js';\r\nimport socket from 'socket.io';\r\n\r\npolyfillWebToServer();\r\nconst app=express();\r\nconst httpServer=http.createServer(app);\r\nconst io=socket.listen(httpServer);\r\nlet nbRoom=0;\r\nconst availableRoom=[];\r\nconst allRooms={};\r\n\r\n/*app.get('/', function(req, res){\r\n  res.sendFile(__dirname + '/dist/index.html');\r\n});*/\r\n\r\n\r\nconst createRoom=function(){\r\n  nbRoom++;\r\n  var room=nbRoom.toString();\r\n  availableRoom.push(nbRoom);\r\n  allRooms[nbRoom]={io:io,room:nbRoom,sockets:[]};\r\n  return nbRoom;\r\n}\r\n\r\n\r\nio.sockets.on('connection', function (socket) {\r\n  console.log(\"new connection\",socket.id);\r\n  var room='';\r\n  if(availableRoom.length>0){\r\n    room=availableRoom.pop();\r\n    // console.log(\"joinRoom:\"+room);\r\n  }else{\r\n    room=createRoom();\r\n    // console.log(\"createRoom:\"+room);\r\n  }\r\n\r\n  socket.join(room, () => {\r\n    // let rooms = Object.keys(socket.rooms);\r\n    // console.log(rooms); // [ <socket.id>, 'room 237' ]\r\n    console.log(room); // [ <socket.id>, 'room 237' ]\r\n\r\n    socket.emit(\"playerSelected\",allRooms[room].sockets.length+1);\r\n    allRooms[room].sockets.push(socket);\r\n    io.to(room).emit('new user in room',socket.id); // broadcast to everyone in the room\r\n    io.to(room).emit('gameReady'); // broadcast to everyone in the room\r\n\r\n    socket.on('disconnect', (reason) => {\r\n      allRooms[room].sockets.filter(userSocket=>{\r\n        return userSocket.id!=socket.id\r\n      });\r\n      if(allRooms[room].sockets.length==0){\r\n        delete allRooms[room];\r\n      }\r\n    });\r\n\r\n\r\n    if(allRooms[room].sockets.length==2){\r\n      new TheatreServer({\r\n          'assets': assets,\r\n          'container': {offsetHeight:0,offsetWidth:0},\r\n          'expose': false,\r\n          'scenes': scenes,\r\n          'sharp': false,\r\n          'room':allRooms[room]\r\n      });\r\n\r\n       io.to(room).emit(\"startGameSession\");\r\n    }\r\n  });\r\n});\r\n\r\nexports.start = function startServer(){\r\n  httpServer.listen(3000, function(){\r\n    console.log('listening on *:3000');\r\n  });\r\n}\r\n","function Canvas(type, identifier, width, height) {\n\n    const element = document.createElement('canvas');\n    const context = element.getContext(type);\n    const ratio = window.devicePixelRatio || 1;\n\n    function resize(width, height) {\n\n        element.setAttribute('height', ratio * height);\n        element.setAttribute('width', ratio * width);\n\n        element.style.height = height + 'px';\n        element.style.width = width + 'px';\n\n        context.scale(ratio, ratio);\n    }\n\n    function sharp() {\n\n        element.style.imageRendering = '-moz-crisp-edges';\n        element.style.imageRendering = '-webkit-crisp-edges';\n        element.style.imageRendering = 'crisp-edges';\n        element.style.imageRendering = 'pixelated';\n        context.imageSmoothingEnabled = false;\n    }\n\n    element.setAttribute('id', identifier);\n\n    resize(width, height);\n\n    this.context = context;\n    this.element = element;\n    this.resize = resize;\n    this.sharp = sharp;\n}\n\n// exports current module as an object\nexport {Canvas};\n","function Loop(framerate = 60, speed = 1) {\n\n    let elapsedTime = 0;\n    let lastRender = null;\n    let lastUpdate = null;\n\n    function render(handler) {\n\n        const currentRender = Date.now();\n\n        if (lastRender !== null) {\n\n            handler(currentRender - lastRender);\n        }\n\n        // call user's render handler on each available frame\n        requestAnimationFrame(this.render.bind(this, handler));\n\n        lastRender = currentRender;\n    }\n\n    function update(handler) {\n\n        const currentUpdate = Date.now();\n\n        if (lastUpdate !== null) {\n\n            // define elapsed time since last update\n            elapsedTime += currentUpdate - lastUpdate;\n        }\n\n        // call user's update handler matching timeframe, speed and fixing browser time handling\n        while (elapsedTime >= 1000 / this.framerate / this.speed) {\n\n            // define elapsed time since last user's update handler matching timeframe and speed\n            elapsedTime -= 1000 / this.framerate / this.speed;\n\n            handler(1000 / this.framerate);\n        }\n\n        lastUpdate = currentUpdate;\n\n        // call update loop at least 60 times per second to quickly catch framerate or speed changes\n        setTimeout(this.update.bind(this, handler), 1000 / Math.max(this.framerate, 60));\n    }\n\n    this.framerate = framerate;\n    this.speed = speed;\n\n    this.render = render;\n    this.update = update;\n}\n\n// exports current module as an object\nexport {Loop};\n","function fakePreload(assets, handler) {\r\n\r\n    let promises = [];\r\n\r\n    // preloads each asset\r\n    assets.forEach(function (asset) {\r\n\r\n        // creates a promise for current asset preloading\r\n        const promise = new Promise(function (resolve, reject) {\r\n\r\n            // if current asset is a dataset then preload it\r\n            if (asset.type === 'dataset') {\r\n\r\n                asset.getter = () => asset.source;\r\n\r\n                resolve(asset);\r\n            }\r\n\r\n            // if current asset is an image then preload it\r\n            if (asset.type === 'image') {\r\n\r\n                const image = {};\r\n\r\n                image.src = asset.source;\r\n\r\n                // when current image is loaded then resolve current promise\r\n\r\n                asset.getter = () => image;\r\n\r\n                resolve(asset);\r\n            }\r\n\r\n            // if current asset is a sound then preload it\r\n            else if (asset.type === 'sound') {\r\n\r\n                const sound = {};\r\n\r\n                asset.getter = () => sound;\r\n\r\n                resolve(asset);\r\n            }\r\n        });\r\n\r\n        promises.push(promise);\r\n    });\r\n\r\n    // call user's success handler when all assets are preloaded\r\n    Promise.all(promises).then(handler);\r\n}\r\n\r\n// exports current module as a function\r\nexport {fakePreload};\r\n","function polyfillWebToServer(){\r\n  if (typeof window === 'undefined') {\r\n      global.window = {};\r\n      global.window.requestAnimationFrame=function(){\r\n          setImmediate(()=>f(Date.now()))\r\n      }\r\n  }\r\n}\r\n\r\nexport {polyfillWebToServer}\r\n","import {Canvas} from 'core/canvas.js';\r\nimport {Loop} from 'core/loop.js';\r\nimport {fakePreload} from 'core/server/fakePreload.js';\r\n\r\nfunction TheatreServer(config) {\r\n\r\n    const {assets, container, scenes,room} = config;\r\n\r\n    const expose = config.expose || false;\r\n    const framerate = config.framerate || 60;\r\n    const sharp = config.sharp || false;\r\n    const speed = config.speed || 1;\r\n\r\n    const size = {\r\n        'height' : container.offsetHeight,\r\n        'width' : container.offsetWidth\r\n    };\r\n\r\n    let loading = null;\r\n    let restarting = false;\r\n\r\n    function initialize() {\r\n\r\n        this.assets = {};\r\n        this.delta = {};\r\n        this.delta.render = 0;\r\n        this.delta.update = 0;\r\n\r\n        this.scene = this.scenes.loading;\r\n        this.scene.setup.call(this);\r\n        this.scene.start.call(this);\r\n\r\n        const loop = new Loop(framerate, speed);\r\n\r\n        loop.update((timeframe) => {\r\n\r\n            this.delta.update = timeframe;\r\n            this.scene.update.call(this);\r\n\r\n            if (restarting === true) {\r\n\r\n                this.scene.start.call(this);\r\n\r\n                restarting = false;\r\n\r\n                return;\r\n            }\r\n\r\n            if (loading !== null) {\r\n\r\n                this.scene.destroy.call(this);\r\n                this.scene = this.scenes[loading];\r\n                this.scene.setup.call(this);\r\n                this.scene.start.call(this);\r\n\r\n                loading = null;\r\n\r\n                return;\r\n            }\r\n        });\r\n\r\n        fakePreload(assets, (assets) => {\r\n\r\n            assets.forEach((asset) => {\r\n\r\n                if (typeof this.assets[asset.type + 's'] === 'undefined') {\r\n\r\n                    this.assets[asset.type + 's'] = {};\r\n                }\r\n\r\n                if (typeof this.assets[asset.type + 's'][asset.scope] === 'undefined') {\r\n\r\n                    this.assets[asset.type + 's'][asset.scope] = {};\r\n                }\r\n\r\n                this.assets[asset.type + 's'][asset.scope][asset.name] = asset.getter;\r\n            });\r\n\r\n            this.preloading = false;\r\n        });\r\n\r\n        this.loop = loop;\r\n        this.preloading = true;\r\n    }\r\n\r\n    function load(scene) {\r\n\r\n        loading = scene;\r\n    }\r\n\r\n    function restart() {\r\n\r\n        restarting = true;\r\n    }\r\n\r\n    this.preloading = false;\r\n    this.scenes = scenes;\r\n    this.size = size;\r\n    this.room=room;\r\n    this.state = {};\r\n    this.version = '0.33.0';\r\n\r\n    this.load = load;\r\n    this.restart = restart;\r\n\r\n    initialize.call(this, config);\r\n\r\n    if (expose === true) {\r\n\r\n        window.theatre = this;\r\n    }\r\n}\r\n\r\n// exports current module as an object\r\nexport {TheatreServer};\r\n","import * as Ease from './ease.js';\n\nfunction Camera(context, width, height) {\n\n    let images = [];\n\n    let shaking = {\n\n        'current': false,\n        'duration': 0,\n        'easing': null,\n        'elapsed': 0,\n        'force': {\n\n            'x': 0,\n            'y': 0\n        },\n        'shift': {\n\n            'x': 0,\n            'y': 0\n        }\n    };\n\n    function add(image) {\n\n        let target = 0;\n\n        for (let iterator = images.length - 1; iterator >= 0; iterator -= 1) {\n\n            const current = images[iterator];\n\n            if (image.destination.z >= current.destination.z) {\n\n                target = iterator + 1;\n\n                break;\n            }\n        }\n\n        images.splice(target, 0, image);\n    }\n\n    function idle() {\n\n        shaking = {\n\n            'current': false,\n            'duration': 0,\n            'easing': null,\n            'elapsed': 0,\n            'force': {\n\n                'x': 0,\n                'y': 0\n            },\n            'shift': {\n\n                'x': 0,\n                'y': 0\n            }\n        };\n    }\n\n    function render() {\n\n        images.forEach((image) => {\n\n            const {destination, frame, opacity, source} = image;\n\n            if (opacity > 0\n            && this.visible(destination.x, destination.y, destination.width, destination.height) === true) {\n\n                const alpha = context.globalAlpha;\n\n                context.globalAlpha = opacity;\n\n                context.drawImage(\n\n                    source,\n                    frame.x, frame.y, frame.width, frame.height,\n                    destination.x - (this.position.x + shaking.shift.x), destination.y - (this.position.y + shaking.shift.y), destination.width, destination.height\n                );\n\n                context.globalAlpha = alpha;\n            }\n        });\n\n        images = [];\n    }\n\n    function set(x, y) {\n\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    function shake(x, y, duration, easing = Ease.reverse(Ease.easeOut(2))) {\n\n        this.idle();\n\n        shaking.force = {\n\n            'x': x,\n            'y': y\n        };\n\n        shaking.current = true;\n        shaking.duration = duration;\n        shaking.easing = easing;\n    }\n\n    function update(delta) {\n\n        if (shaking.current === false) {\n\n            return;\n        }\n\n        if (shaking.elapsed + delta >= shaking.duration) {\n\n            this.idle();\n\n            return;\n        }\n\n        shaking.elapsed += delta;\n\n        const amplitude = shaking.easing(shaking.elapsed / shaking.duration);\n        const angle = Math.random() * 2 * Math.PI;\n\n        shaking.shift.x = Math.round(Math.cos(angle) * shaking.force.x * amplitude);\n        shaking.shift.y = Math.round(Math.sin(angle) * shaking.force.y * amplitude);\n    }\n\n    function visible(x, y, width, height) {\n\n        const camera = {\n\n            'x': this.position.x + shaking.shift.x,\n            'y': this.position.y + shaking.shift.y,\n            'width': this.size.width,\n            'height': this.size.height\n        };\n\n        if (x + width <= camera.x\n        || x >= camera.x + camera.width\n        || y + height <= camera.y\n        || y >= camera.y + camera.height) {\n\n            return false;\n        }\n\n        return true;\n    }\n\n    this.position = {\n\n        'x': 0,\n        'y': 0\n    };\n\n    this.size = {\n\n        'width': width,\n        'height': height\n    };\n\n    this.add = add;\n    this.idle = idle;\n    this.render = render;\n    this.set = set;\n    this.shake = shake;\n    this.update = update;\n    this.visible = visible;\n}\n\n// exports current module as an object\nexport {Camera};\n","import {Point, Rectangle} from './shape.js';\n\nconst caller = {\n\n    'collidePointPoint': collidePointPoint,\n    'collidePointRectangle': collidePointRectangle,\n    'collideRectangleRectangle': collideRectangleRectangle\n};\n\nfunction collide(A, B) {\n\n    const parameters = [];\n\n    let name = 'collide';\n\n    if (A instanceof Point === true) {\n\n        parameters.push(A);\n\n        name += 'Point';\n    }\n\n    if (B instanceof Point === true) {\n\n        parameters.push(B);\n\n        name += 'Point';\n    }\n\n    if (parameters.indexOf(A) === -1\n    && A instanceof Rectangle === true) {\n\n        parameters.push(A);\n\n        name += 'Rectangle';\n    }\n\n    if (parameters.indexOf(B) === -1\n    && B instanceof Rectangle === true) {\n\n        parameters.push(B);\n\n        name += 'Rectangle';\n    }\n\n    return caller[name].apply(null, parameters);\n}\n\nfunction collidePointPoint(A, B) {\n\n    if (A.x !== B.x\n    || A.y !== B.y) {\n\n        return false;\n    }\n\n    return true;\n}\n\nfunction collidePointRectangle(A, BCDE) {\n\n    if (A.x < BCDE.x\n    || A.x > BCDE.x + BCDE.width\n    || A.y < BCDE.y\n    || A.y > BCDE.y + BCDE.height) {\n\n        return false;\n    }\n\n    return true;\n}\n\nfunction collideRectangleRectangle(ABCD, EFGH) {\n\n    if (ABCD.x + ABCD.width < EFGH.x\n    || ABCD.x > EFGH.x + EFGH.width\n    || ABCD.y + ABCD.height < EFGH.y\n    || ABCD.y > EFGH.y + EFGH.height) {\n\n        return false;\n    }\n\n    return true;\n}\n\n// exports current module as a function\nexport {collide};\n","function easeIn(power) {\n\n    // accelerating from zero velocity\n    return (x) => x ** power;\n}\n\nfunction easeInOut(power) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return (x) => {\n\n        if (x < 0.5) {\n\n            return easeIn(power)(2 * x) / 2\n        }\n\n        return 1 - easeInOut(power)(1 - x)\n    }\n}\n\nfunction easeOut(power) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return (x) => 1 - easeIn(power)(1 - x);\n}\n\nfunction linear(factor) {\n\n    // linear progression\n    return (x) => x * factor;\n}\n\nfunction easeInQuad(x) {\n\n    // accelerating from zero velocity\n    return easeIn(2)(x);\n}\n\nfunction easeInCubic(x) {\n\n    // accelerating from zero velocity\n    return easeIn(3)(x);\n}\n\nfunction easeInQuart(x) {\n\n    // accelerating from zero velocity\n    return easeIn(4)(x);\n}\n\nfunction easeInOutQuad(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(2)(x);\n}\n\nfunction easeInOutCubic(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(3)(x);\n}\n\nfunction easeInOutQuart(x) {\n\n    // acceleration until halfway, then deceleration (with x in [0, 1] range)\n    return easeInOut(4)(x);\n}\n\nfunction easeOutQuad(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(2)(x);\n}\n\nfunction easeOutCubic(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(3)(x);\n}\n\nfunction easeOutQuart(x) {\n\n    // decelerating to zero velocity (with x in [0, 1] range)\n    return easeOut(4)(x);\n}\n\nfunction reverse(handler) {\n\n    // reversing easing function\n    return (x) => handler(1 - x);\n}\n\n// exports current module as functions\nexport {\n\n    // export ease function creators\n    easeIn, easeInOut, easeOut, linear,\n\n    // export ease-in functions\n    easeInCubic, easeInQuad, easeInQuart,\n\n    // export ease-in-out functions\n    easeInOutCubic, easeInOutQuad, easeInOutQuart,\n\n    // export ease-out functions\n    easeOutCubic, easeOutQuad, easeOutQuart,\n\n    // export utility functions\n    reverse\n};\n","function Circle(x, y, radius) {\n\n    this.radius = radius;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Point(x, y) {\n\n    this.x = x;\n    this.y = y;\n}\n\nfunction Rectangle(x, y, width, height) {\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n}\n\nfunction Segment(xa, ya, xb, yb) {\n\n    this.xa = xa;\n    this.xb = xb;\n    this.ya = ya;\n    this.yb = yb;\n}\n\n// exports current module as objects\nexport {Circle, Point, Rectangle, Segment};\n","function Entity(name, components) {\n\n    function add(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        components.forEach((component) => {\n\n            this.components[component.name] = component;\n        });\n    }\n\n    function get(component) {\n\n        return this.components[component];\n    }\n\n    function has(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const search = components[iterator];\n            const component = search.replace('not:', '');\n            const exclude = search !== component;\n\n            if (this.components.hasOwnProperty(component) === exclude) {\n\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function remove(components) {\n\n        if (Array.isArray(components) === false) {\n\n            components = [components];\n        }\n\n        for (let iterator = 0, length = components.length; iterator < length; iterator += 1) {\n\n            const component = components[iterator];\n\n            if (this.components.hasOwnProperty(component) === true) {\n\n                delete this.components[component];\n            }\n        }\n    }\n\n    this.components = {};\n    this.name = name;\n\n    this.add = add;\n    this.get = get;\n    this.has = has;\n    this.remove = remove;\n\n    this.add(components);\n}\n\nfunction World(context) {\n\n    function add(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        entities.forEach((entity) => {\n\n            this.entities[entity.name] = entity;\n        });\n    }\n\n    function get(entity) {\n\n        return this.entities[entity];\n    }\n\n    function remove(entities) {\n\n        if (Array.isArray(entities) === false) {\n\n            entities = [entities];\n        }\n\n        for (let iterator = 0, length = entities.length; iterator < length; iterator += 1) {\n\n            const entity = entities[iterator];\n            const key = entity.name || entity;\n\n            if (this.entities.hasOwnProperty(key) === true) {\n\n                delete this.entities[key];\n            }\n        }\n    }\n\n    function system(components, handler, entities = this.entities) {\n\n        const chosen = {};\n\n        Object.entries(entities).forEach(([name, entity]) => {\n\n            if (entity.has(components) === true) {\n\n                chosen[name] = entity;\n            }\n        });\n\n        handler.call(context, chosen);\n    }\n\n    this.entities = {};\n\n    this.add = add;\n    this.get = get;\n    this.remove = remove;\n    this.system = system;\n}\n\nexport {\n\n    // exports current module as an object\n    World,\n\n    // exports helpers for current module\n    Entity\n};\n","module.exports = require(\"express\");","module.exports = require(\"http\");","module.exports = require(\"module-alias/register\");","module.exports = require(\"socket.io\");","module.exports = require(\"worker_threads\");"],"sourceRoot":""}